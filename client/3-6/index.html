<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.26" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link rel="icon" href="/images/favicon.png" type="image/x-icon" />

    <title>3-6 Templates :: COMP312 labs</title>
    
    
    <link href="/css/nucleus.css?1504081602" rel="stylesheet">
    <link href="/css/font-awesome.min.css?1504081602" rel="stylesheet">
    <link href="/css/hybrid.css?1504081602" rel="stylesheet">
    <link href="/css/featherlight.min.css?1504081602" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1504081602" rel="stylesheet">
    <link href="/css/horsey.css?1504081602" rel="stylesheet">
    <link href="/css/theme.css?1504081602" rel="stylesheet">
    <link href="/css/hugo-theme.css?1504081602" rel="stylesheet">
    

    <script src="/js/jquery-2.x.min.js?1504081602"></script>
    
    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{ 
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/client/3-6/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="http://www.ipm.edu.mo/">
<b>COMP312 Internet Programming II</b>
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Search...">
    <span data-search-clear=""><i class="fa fa-close"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1504081602"></script>
<script type="text/javascript" src="/js/horsey.js?1504081602"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/philiplei.github.io\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1504081602"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/webapi/" title="Webapis" class="dd-item 
        
        
        
        ">
      <a href="/webapi/">
          Webapis
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/webapi/5-1/" title="5-1 Designing a Web API" class="dd-item ">
        <a href="/webapi/5-1/">
        5-1 Designing a Web API
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/webapi/5-2/" title="5-2 Implementing a Web API" class="dd-item ">
        <a href="/webapi/5-2/">
        5-2 Implementing a Web API
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/webapi/5-3/" title="5-3 Consuming a Web API" class="dd-item ">
        <a href="/webapi/5-3/">
        5-3 Consuming a Web API
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/webapi/" title="Ajax and Web API" class="dd-item ">
        <a href="/webapi/">
        Ajax and Web API
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/server/" title="Servers" class="dd-item 
        
        
        
        ">
      <a href="/server/">
          Servers
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/server/4-1/" title="4-1 Node.js primer" class="dd-item ">
        <a href="/server/4-1/">
        4-1 Node.js primer
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/server/4-2/" title="4-2 NPM modules" class="dd-item ">
        <a href="/server/4-2/">
        4-2 NPM modules
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/server/4-3/" title="4-3 Web app routing" class="dd-item ">
        <a href="/server/4-3/">
        4-3 Web app routing
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/server/4-4/" title="4-4 Web app middlewares" class="dd-item ">
        <a href="/server/4-4/">
        4-4 Web app middlewares
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/server/4-5/" title="4-5 Templates and file modules" class="dd-item ">
        <a href="/server/4-5/">
        4-5 Templates and file modules
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/server/4-6/" title="4-6 Database access" class="dd-item ">
        <a href="/server/4-6/">
        4-6 Database access
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/server/4-7/" title="4-7 A sample web app" class="dd-item ">
        <a href="/server/4-7/">
        4-7 A sample web app
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/server/" title="Server-side programming" class="dd-item ">
        <a href="/server/">
        Server-side programming
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/client/" title="Clients" class="dd-item 
        parent
        
        
        ">
      <a href="/client/">
          Clients
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/client/3-1/" title="3-1 Quick start" class="dd-item ">
        <a href="/client/3-1/">
        3-1 Quick start
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/client/3-2/" title="3-2 Select and change" class="dd-item ">
        <a href="/client/3-2/">
        3-2 Select and change
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/client/3-3/" title="3-3 Creating new content" class="dd-item ">
        <a href="/client/3-3/">
        3-3 Creating new content
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/client/3-4/" title="3-4 Handling events" class="dd-item ">
        <a href="/client/3-4/">
        3-4 Handling events
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/client/3-5/" title="3-5 Form controls" class="dd-item ">
        <a href="/client/3-5/">
        3-5 Form controls
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/client/3-6/" title="3-6 Templates" class="dd-item active">
        <a href="/client/3-6/">
        3-6 Templates
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/client/3-7/" title="3-7 Charts" class="dd-item ">
        <a href="/client/3-7/">
        3-7 Charts
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/client/3-8/" title="3-8 Script execution in browsers" class="dd-item ">
        <a href="/client/3-8/">
        3-8 Script execution in browsers
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/client/" title="Client-side programming" class="dd-item ">
        <a href="/client/">
        Client-side programming
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/basic/" title="Basics" class="dd-item 
        
        
        
        ">
      <a href="/basic/">
          Basics
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/basic/2-1/" title="2-1 Basic data types and control" class="dd-item ">
        <a href="/basic/2-1/">
        2-1 Basic data types and control
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/2-2/" title="2-2 Arrays and functions" class="dd-item ">
        <a href="/basic/2-2/">
        2-2 Arrays and functions
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/2-3/" title="2-3 Objects and JSON data" class="dd-item ">
        <a href="/basic/2-3/">
        2-3 Objects and JSON data
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/2-4/" title="2-4 Callbacks and arrow functions" class="dd-item ">
        <a href="/basic/2-4/">
        2-4 Callbacks and arrow functions
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/2-5/" title="2-5 Defining class" class="dd-item ">
        <a href="/basic/2-5/">
        2-5 Defining class
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/2-6/" title="2-6 Regular expression" class="dd-item ">
        <a href="/basic/2-6/">
        2-6 Regular expression
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/" title="JavaScript basics" class="dd-item ">
        <a href="/basic/">
        JavaScript basics
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fa fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable sticky-parent">
              
              <div class="sticky-spacer">
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fa fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
                  
                  <span class="links">
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>COMP312 labs</a> > <a href='/client/'>Clients</a> > 3-6 Templates
          
         
          
         
          
           
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#basic-operation">Basic operation</a></li>
<li><a href="#loop">Loop</a></li>
<li><a href="#condition">Condition</a></li>
<li><a href="#advanced-example">Advanced example</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1>3-6 Templates</h1>
          

        



<p>When you need to display complicated JSON data in HTML with some repetitive parts, it is often more convenient to use a template library. This lab demonstrates how to use a template library called Handlebars <a href="http://handlebarsjs.com/">(online reference)</a></p>

<h2 id="basic-operation">Basic operation</h2>

<p>There are many HTML template systems. While their syntax can be quite different, the basic operation remains similar. It can be described as &ldquo;template + context (data object) =&gt; html code&rdquo;.</p>

<p>First, a template defines the presentation of some data in some format. Handlebars uses HTML code directly in the template. In the template, there are some placeholders, to be replaced by some data later. In Handlebars, these placeholders use the expression <code>{{ }}</code>.</p>

<pre><code class="language-HTML">&lt;!-- a handlerbars template with two placeholders --&gt;
&lt;div class=&quot;entry&quot;&gt;
  &lt;h1&gt;{{title}}&lt;/h1&gt;
  &lt;div class=&quot;body&quot;&gt;
    {{body}}
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>

<p>The data used to fill in the template is often called the context object. It is a JavaScript object whose properties have names corresponding to the placeholders in the template.</p>

<pre><code class="language-JavaScript">var context = { title: 'My first post', body: &quot;This is my first post!&quot;};
</code></pre>

<p>Next, we need to fill in the placeholders in the template with the data in the context. <em>(template + context =&gt; html code)</em> The JavaScript code to do this is &hellip;</p>

<pre><code class="language-JavaScript">// the template as string
var source = &quot;&lt;div&gt;...&lt;/div&gt;&quot;;
// compile the template string into a function
// this function can be used multiple times
var template = Handlebars.compile(source);
// put data in context object
var context = {title: &quot;My First Post&quot;, body: &quot;This is my first post!&quot;};
// call the template function to render the data
var html = template(context);
// the function returns the following HTML code
</code></pre>

<p>The template function in the last line returns the following HTML code.</p>

<pre><code class="language-HTML">&lt;!-- the placeholders are replaced by data in the context --&gt;
&lt;div class=&quot;entry&quot;&gt;
  &lt;h1&gt;My First Post&lt;/h1&gt;
  &lt;div class=&quot;body&quot;&gt;
    This is my first post!
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>

<p>The full source code for this first example is available at <a href="/chap3/p361.html">p361.html</a>.
Refer to the source code for methods to:</p>

<ul>
<li>embed the template in <code>&lt;script&gt;</code> in the HTML file</li>
<li>load the Handlebars library</li>
<li>render the template with context</li>
<li>display the HTML output by attaching it to the document tree</li>
</ul>

<h2 id="loop">Loop</h2>

<p>When the context object contains some items in an array, we often need to repeat a part of the template to render the data. For example, we have an array of color in this context object in the example <a href="/chap3/p362.html">p362.html</a>.</p>

<pre><code class="language-JavaScript">var palette = { color: [
  { name: 'purple',  hexrgb: '#800080', decrgb: [128,0,128]},
  { name: 'fuchsia', hexrgb: '#FF00FF', decrgb: [255,0,255]},
  { name: 'lime',    hexrgb: '#00FF00', decrgb: [0, 255, 0]},
  { name: 'teal',    hexrgb: '#008080', decrgb: [0,128,128]},
  { name: 'aqua',    hexrgb: '#00FFFF', decrgb: [0,255,255]},
  { name: 'blue',    hexrgb: '#0000FF', decrgb: [0,0,255]}
]};
</code></pre>

<p>Handlebars provides the block helper <code>{{#each property}} ... {{/each}}</code> to
repeat part of the template for each element in the named property, which is an array.
The following template in <a href="/chap3/p362.html">p362.html</a> is used to display <code>color</code> in the context object. The template generates one row for each element in the array <code>color</code>.</p>

<pre><code class="language-HTML">&lt;table class=&quot;color-table&quot;&gt;
&lt;thead&gt;
  &lt;tr&gt;&lt;td&gt;Color Name&lt;td&gt;Hex Code RGB&lt;td&gt;Decimal Code RGB&lt;/tr&gt;
&lt;tbody&gt;
  {{#each color}}
  &lt;tr style=&quot;background-color: {{name}}; color: white&quot;&gt;
    &lt;td&gt;{{name}}
    &lt;td&gt;{{hexrgb}}
    &lt;td&gt;{{decrgb}}
  &lt;/tr&gt;
  {{/each}}
&lt;/table&gt;
</code></pre>

<p>Inside the pair <code>{{#each color}}</code> and <code>{{/each}}</code>, the placeholders refer to each element in the array. Notice that we can also interpolate value in HTML attribute.</p>

<h2 id="condition">Condition</h2>

<p>Suppose you have some objects that represent email. You want to show different icons to distinguish read email from unread email.</p>

<pre><code class="language-JavaScript">var email1 = { read: true, sender: 'Peter', subject: '..' };
var email2 = { read: false, sender: 'John', subject: '..' };
</code></pre>

<p>The block helper <code>{{#if}}</code> supports simple conditional display of template content. In the following template, the first image is only shown when <code>read===true</code>. Otherwise, only the second image is shown. See <a href="/chap3/p363.html">p363.html</a> for the full source code.</p>

<pre><code class="language-HTML">&lt;p&gt;
  {{#if read}}
  &lt;img src=&quot;mail-read.png&quot;/&gt;
  {{else}}
  &lt;img src=&quot;mail-unread.png&quot;/&gt;
  {{/if}}
  &lt;span class='sender'&gt;{{sender}}&lt;/span&gt;
  &lt;span class='subject'&gt;{{subject}}&lt;/span&gt;
&lt;/p&gt;
</code></pre>

<h2 id="advanced-example">Advanced example</h2>

<p>We end this lab with an advanced example <a href="/chap3/p364.html">p364.html</a>. This example uses
template to show lecture time table. The template uses both <code>{{#each}}</code> and <code>{{#if}}</code>.
Notice that you cannot include JavaScript code in the template. Therefore, you need to add properties to the context object in JavaScript before passing the context to the template.</p>


<footer class=" footline" >
	
</footer>


        
        </div> 
      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


        
            <a class="nav nav-prev" href="/client/3-8/" title="3-8 Script execution in browsers"> <i class="fa fa-chevron-left"></i></a>
        
        
            <a class="nav nav-next" href="/basic/" title="Basics" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
        
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1504081602"></script>
    <script src="/js/perfect-scrollbar.min.js?1504081602"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1504081602"></script>
    <script src="/js/jquery.sticky-kit.min.js?1504081602"></script>
    <script src="/js/featherlight.min.js?1504081602"></script>
    <script src="/js/html5shiv-printshiv.min.js?1504081602"></script>
    <script src="/js/highlight.pack.js?1504081602"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js?1504081602"></script>
    <script src="/js/learn.js?1504081602"></script>
    <script src="/js/hugo-learn.js?1504081602"></script>

    <link href="/mermaid/mermaid.css?1504081602" type="text/css" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1504081602"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

