<!DOCTYPE html>
<html lang="en">
<head>  
  <title>Lab3-1. jQuery selectors and modifying elements</title>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="common.css"/>
  <style>
  
  div#sample { padding: 0.7em; margin: 12px 0px; border: 1px solid green; overflow: auto;}
  div#sample .left { width: 550px; float: left; }
  span#mesg { background-color: darkgreen; color: white; }
  img.small { width: 50px; height: 50px; }
  img.big { width: 100px; height: 100px; }
  table#T1 { border-collapse: collapse; }
  table#T1 td { padding: 4px; border: 1px solid gray;}
  table#T1 thead { background-color: gray; color: white; }

  .center {
    position: fixed; top: 30%; left: 30%;
    width: 300px !important; height: 300px !important;  
    background-color: darkgray; border: 1px solid gray;
  }
  
  .alert {
    background-color: red;
    font-weight: bold; color: white;
  }
  </style>
  <script src="jquery.js"></script>
</head>

<body>
  <h1>Lab 3-1. jQuery selectors and modifying elements</h1>
  <p>This example demonstrates how to select elements using jQuery and
  change their content, attributes and presentation.</p>

  <h2>Part 1. Selectors, element content, and attributes</h2>
  <p>The first step to manipulate HTML content in jQuery is to select elements.
  You can use most CSS selectors in the jQuery function <code>$( )</code> to
  select elements, and then execute some operations on them.</p>
      
  <p>This green box is a <code>div</code> with id <code>sample</code>.</p>

  <div id='sample'>
    <div class='left'>
    <p>The following is a <code>span</code> with id <code>mesg</code>
    <span id="mesg">"change me"</span></p>
    <p>And this is a hyperlink to <a href="http://csp.ipm.edu.mo/">our computing program </a>
    .</p>
    <p>Next, four inline images, two in the class <code>small</code> and two in
    the class <code>big</code>. <br/>
    <img src='ani/ox.png' alt='ox' class='small'/>
    <img src='ani/tiger.png' alt='tiger' class='small'/>
    <img src='ani/dragon.png' alt='dragon' class='big'/>
    <img src='ani/pig.png' alt='pig' class='big'/> </p>
    </div>
    <div class='right'>
    <p>This is a table with id <code>T1</code></p>
    <table id='T1'>
      <thead>
        <tr><td>name</td><td>test</td><td>exam</td></tr>
      </thead>
      <tbody>
        <tr><td>Peter</td><td  class="fail">40</td><td>80</td></tr>
        <tr><td>Mary</td><td>80</td><td>80</td></tr>
        <tr><td>John</td><td>80</td><td class="fail">30</td></tr>
        <tr><td>Elizabeth</td><td  class="fail">20</td><td>80</td></tr>
      </tbody>
    </table>
    </div>
  </div>
   
  <p><span class='step'>Step 1.</span> Select elements in the green box above.
  First, explain the meaning of the following selectors. Notice the syntax of
  the selector function of jQuery and which the matched elements are.</p>
  <ul>
    <li><code>$('#mesg')</code></li>
    <li><code>$('img.big')</code></li>
    <li><code>$('div#sample')</code></li>
    <li><code>$('div#sample a')</code></li>
    <li><code>$('img[alt="tiger"]')</code></li>
    <li><code>$('table#T1 td.fail')</code></li>
    <li><code>$('table#T1 tbody tr')</code></li>
    <li><code>$('table#T1 tbody tr:nth-child(even)')</code></li>
    <li><code>$('table#T1 tbody td:nth-child(2)')</code></li>
  </ul>


  <p><span class='step'>Step 2.</span> You can change HTML content of matched elements
  with the function <code>$().html(new-content)</code>. You can read HTML
  content of the <em>first</em> matched element with <code>$().html()</code>. If the
  content is pure text, you can also use <code>$().text( )</code>. Now try to do the following:</p>
  <ul>
    <li>Change the message <code>span#mesg</code>, e.g. <code>$('#mesg').html('any
    &lt;em>HTML&lt;/em> content');</code></li>
    <li>Change the anchor text of the hyperlink in <code>div#sample</code> to 'computing program'.</li>
    <li>Change the name of first student to 'Peter Chan'.</li>
    <li>Change all failing mark (<code>$('td.fail')</code>) to 50.</li>
  </ul>
  
  <p><span class='step'>Step 3.</span> The function <code>$().attr( )</code>
  allows you to change attributes of matched elements, and read the attributes
  of the <em>first</em> matched element.</p>
  
  <ul>
    <li>Change the URL of the hyperlink</li>
    <li>Change all images in the sample box above to a rat:
    <code>$('img').attr('src', 'ani/rat.png')</code></li>
    <li>Change the images in class <code>big</code> to a dog:
    <code>$('img.big').attr('src', 'ani/dog.png')</code></li>
    <li>Check the current image file of the img with alt attribute 'ox' (i.e.
    the first image): <code>$('img[alt="ox"]').attr('src')</code></li>
    <li>Display that image file name in the message:
    <code>$('#mesg').text($('img[alt="ox"]').attr('src'))</code></li>
    <li>Change the image to the image (<a href="ani/monkey.png">ani/monkey.png</a>)</li>
    <li>Select one of the four images using <code>:nth-child()</code>.</li>
  </ul>
  
  <h2>Part 2. Changing presentation</h2>
  <p>There are two ways to change the presentation of matched elements. You can either
  fine-tune each css property, or add / remove class to the elements</p>
  
  <p><span class='step'>Step 1.</span> Use the function <code>$().css( )</code>
  to change a CSS property.</p>
  <ul>
    <li>Change the background color of the message to red:
    <code>$('#mesg').css('background-color', 'red');</code></li>
    <li>Change the dimension of the images:
    <code>$('img.big').css('width', '200px').css('height', '200px');</code></li>
    <li>Change the failing mark in the table to <span style='color: red;
    font-weight: bold'>red bold</span></li>
  </ul>
    
    
  <p><span class='step'>Step 2.</span> If you need to change many properties, it
  is better to group the changes in a class, and add the class to the selected
  elements with <code>$().addClass( )</code>. You can also remove the class with
  <code>$().removeClass( )</code>.</p>
  
  <ul>
    <li>Check the embedded style sheet for the formatting of class
    <code>alert</code>. Next, add this class to the failing marks in the table:
    <code>$('td.fail').addClass('alert');</code>.  Remove the class with
    <code>$('td.fail').removeClass('alert');</code>. </li>
    <li>Add the class <code>center</code> to the pig image
    <code>$('img[alt="pig"]')</code>. Examine the style rule.</li>
    <li>Apply zebra-coloring to the table, i.e. different background color for
    even and odd rows. First define a style rule for a new
    class. Next, add the class to even rows.</li>
  </ul>
  
</body>
</html>